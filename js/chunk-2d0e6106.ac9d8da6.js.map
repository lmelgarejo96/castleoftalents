{"version":3,"sources":["webpack:///./src/components/IntranetComponents/FormUser.vue?7ca0","webpack:///src/components/IntranetComponents/FormUser.vue","webpack:///./src/components/IntranetComponents/FormUser.vue?d524","webpack:///./src/components/IntranetComponents/FormUser.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","staticStyle","attrs","_v","ref","on","$event","preventDefault","saveAlumno","model","value","callback","$$v","validForm","expression","consultarDNI","user","$set","scopedSlots","_u","key","fn","_g","menu","Date","toISOString","substr","saveDate","basecolegio","niveles","updateListGrados","grados","rules","loadingImage","updatePreview","openFI","pariente","emailRules","staticRenderFns","data","computed","watch","val","setTimeout","mounted","removeImagen","$store","dispatch","methods","$refs","save","date","photoInput","click","undefined","imagen","reader","readAsDataURL","onload","imgPrev","src","result","error","document","getElementById","image","forEach","grado","nivel","arrGrados","push","nombre","verificaCampos","component","VBtn","VCombobox","VDatePicker","VFileInput","VForm","VMenu","VTextField"],"mappings":"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","file":"js/chunk-2d0e6106.ac9d8da6.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container-fluid\",staticStyle:{\"background\":\"#e3e5eb\"},attrs:{\"id\":\"home-component\"}},[_c('div',{staticClass:\"row\",staticStyle:{\"background\":\"#e3e5eb\"}},[_c('div',{staticClass:\"col-lg-12 pt-0\"},[_c('div',{staticClass:\"card w-100\"},[_c('div',{staticClass:\"container mt-3\"},[_c('h5',[_vm._v(\"Nuevo Alumno\")]),_c('hr'),_c('v-form',{ref:\"form\",attrs:{\"enctype\":\"multipart/form-data\"},on:{\"submit\":function($event){$event.preventDefault();return _vm.saveAlumno($event)}},model:{value:(_vm.validForm),callback:function ($$v) {_vm.validForm=$$v},expression:\"validForm\"}},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-lg-12\"},[_c('div',{staticClass:\"overline\"},[_vm._v(\"DATOS DEL ALUMNO\")])]),_c('div',{staticClass:\"col-lg-6 col-md-12 col-sm-12\"},[_c('v-text-field',{attrs:{\"outlined\":\"\",\"id\":\"dni-cdt\",\"label\":\"DNI *\"},on:{\"keyup\":function($event){return _vm.consultarDNI('hijo')}},model:{value:(_vm.user.dni),callback:function ($$v) {_vm.$set(_vm.user, \"dni\", $$v)},expression:\"user.dni\"}}),_c('v-text-field',{attrs:{\"outlined\":\"\",\"label\":\"Nombre *\"},model:{value:(_vm.user.nombres),callback:function ($$v) {_vm.$set(_vm.user, \"nombres\", $$v)},expression:\"user.nombres\"}}),_c('v-text-field',{attrs:{\"outlined\":\"\",\"label\":\"Apellido Paterno *\"},model:{value:(_vm.user.apellido_paterno),callback:function ($$v) {_vm.$set(_vm.user, \"apellido_paterno\", $$v)},expression:\"user.apellido_paterno\"}}),_c('v-text-field',{attrs:{\"outlined\":\"\",\"label\":\"Apellido Materno *\"},model:{value:(_vm.user.apellido_materno),callback:function ($$v) {_vm.$set(_vm.user, \"apellido_materno\", $$v)},expression:\"user.apellido_materno\"}}),_c('v-menu',{ref:\"menu\",attrs:{\"close-on-content-click\":false,\"transition\":\"scale-transition *\",\"offset-y\":\"\",\"min-width\":\"290px\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [_c('v-text-field',_vm._g({attrs:{\"outlined\":\"\",\"label\":\"Fecha de Nacimiento *\",\"readonly\":\"\"},model:{value:(_vm.user.fecha_nacimiento),callback:function ($$v) {_vm.$set(_vm.user, \"fecha_nacimiento\", $$v)},expression:\"user.fecha_nacimiento\"}},on))]}}]),model:{value:(_vm.menu),callback:function ($$v) {_vm.menu=$$v},expression:\"menu\"}},[_c('v-date-picker',{ref:\"picker\",attrs:{\"max\":new Date().toISOString().substr(0, 10),\"min\":\"1950-01-01\"},on:{\"change\":_vm.saveDate},model:{value:(_vm.user.fecha_nacimiento),callback:function ($$v) {_vm.$set(_vm.user, \"fecha_nacimiento\", $$v)},expression:\"user.fecha_nacimiento\"}})],1),_c('v-text-field',{attrs:{\"outlined\":\"\",\"label\":\"Domicilio *\"},model:{value:(_vm.user.direccion),callback:function ($$v) {_vm.$set(_vm.user, \"direccion\", $$v)},expression:\"user.direccion\"}}),_c('v-text-field',{attrs:{\"outlined\":\"\",\"label\":\"Telefono Casa *\"},model:{value:(_vm.user.telefono),callback:function ($$v) {_vm.$set(_vm.user, \"telefono\", $$v)},expression:\"user.telefono\"}})],1),_c('div',{staticClass:\"col-lg-6 col-md-12 col-sm-12\"},[_c('v-combobox',{attrs:{\"outlined\":\"\",\"items\":_vm.basecolegio.niveles,\"label\":\"Nivel *\"},on:{\"change\":_vm.updateListGrados},model:{value:(_vm.user.nivel),callback:function ($$v) {_vm.$set(_vm.user, \"nivel\", $$v)},expression:\"user.nivel\"}}),_c('v-combobox',{attrs:{\"outlined\":\"\",\"items\":_vm.grados,\"label\":\"Grado *\"},model:{value:(_vm.user.grado),callback:function ($$v) {_vm.$set(_vm.user, \"grado\", $$v)},expression:\"user.grado\"}}),_c('v-file-input',{attrs:{\"rules\":_vm.rules,\"accept\":\"image/png, image/jpeg, image/bmp, image/jpg\",\"placeholder\":\"Click aqui para elegir una imagen..\",\"prepend-icon\":\"\",\"prepend-inner-icon\":\"mdi-camera\",\"label\":\"Imagen\",\"id\":\"photoInput\",\"outlined\":\"\",\"loading\":_vm.loadingImage},on:{\"change\":function($event){return _vm.updatePreview()}},model:{value:(_vm.user.imagen),callback:function ($$v) {_vm.$set(_vm.user, \"imagen\", $$v)},expression:\"user.imagen\"}}),_c('div',{staticClass:\"card w-100 mx-auto d-flex flex-column flex-nowrap align-items-center justify-content-center\",staticStyle:{\"border\":\"none\"}},[_c('img',{staticClass:\"img-fluid\",staticStyle:{\"max-height\":\"340px\",\"max-width\":\"340px\",\"cursor\":\"pointer\",\"border-radius\":\"50%\"},attrs:{\"id\":\"img-preview\",\"src\":require(\"../../assets/img/no-image.png\"),\"alt\":\"img-preview\"},on:{\"click\":_vm.openFI}})])],1)]),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-lg-12\"},[_c('div',{staticClass:\"overline\"},[_vm._v(\"DATOS DEL APODERADO\")])]),_c('div',{staticClass:\"col-lg-6 col-md-12 col-sm-12\"},[_c('v-text-field',{attrs:{\"outlined\":\"\",\"label\":\"DNI\",\"required\":\"\"},on:{\"keyup\":function($event){return _vm.consultarDNI('padre')}},model:{value:(_vm.user.pariente.dni),callback:function ($$v) {_vm.$set(_vm.user.pariente, \"dni\", $$v)},expression:\"user.pariente.dni\"}}),_c('v-text-field',{attrs:{\"outlined\":\"\",\"label\":\"Nombres\",\"required\":\"\"},model:{value:(_vm.user.pariente.nombres),callback:function ($$v) {_vm.$set(_vm.user.pariente, \"nombres\", $$v)},expression:\"user.pariente.nombres\"}}),_c('v-text-field',{attrs:{\"outlined\":\"\",\"label\":\"Apellido Paterno\",\"required\":\"\"},model:{value:(_vm.user.pariente.apellido_paterno),callback:function ($$v) {_vm.$set(_vm.user.pariente, \"apellido_paterno\", $$v)},expression:\"user.pariente.apellido_paterno\"}}),_c('v-text-field',{attrs:{\"outlined\":\"\",\"label\":\"Apellido Materno\",\"required\":\"\"},model:{value:(_vm.user.pariente.apellido_materno),callback:function ($$v) {_vm.$set(_vm.user.pariente, \"apellido_materno\", $$v)},expression:\"user.pariente.apellido_materno\"}})],1),_c('div',{staticClass:\"col-lg-6 col-md-12 col-sm-12\"},[_c('v-text-field',{attrs:{\"outlined\":\"\",\"label\":\"Domicilio\",\"required\":\"\"},model:{value:(_vm.user.pariente.direccion),callback:function ($$v) {_vm.$set(_vm.user.pariente, \"direccion\", $$v)},expression:\"user.pariente.direccion\"}}),_c('v-text-field',{attrs:{\"rules\":_vm.emailRules,\"outlined\":\"\",\"label\":\"E-mail\",\"required\":\"\"},model:{value:(_vm.user.pariente.correo),callback:function ($$v) {_vm.$set(_vm.user.pariente, \"correo\", $$v)},expression:\"user.pariente.correo\"}}),_c('v-text-field',{attrs:{\"outlined\":\"\",\"label\":\"Telefono\",\"required\":\"\"},model:{value:(_vm.user.pariente.telefono),callback:function ($$v) {_vm.$set(_vm.user.pariente, \"telefono\", $$v)},expression:\"user.pariente.telefono\"}}),_c('v-text-field',{attrs:{\"outlined\":\"\",\"label\":\"Celular\",\"required\":\"\"},model:{value:(_vm.user.pariente.celular),callback:function ($$v) {_vm.$set(_vm.user.pariente, \"celular\", $$v)},expression:\"user.pariente.celular\"}})],1)]),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-lg-12\"},[_c('v-btn',{attrs:{\"color\":\"primary\"},on:{\"click\":_vm.saveAlumno}},[_c('i',{staticClass:\"ml-auto material-icons mr-2\"},[_vm._v(\"save\")]),_vm._v(\" Guardar\")])],1)])])],1)])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div id=\"home-component\" class=\"container-fluid\" style=\"background: #e3e5eb;\">\r\n    <!-- alumno -->\r\n    <div class=\"row\" style=\"background: #e3e5eb;\">\r\n      <div class=\"col-lg-12 pt-0\">\r\n        <div class=\"card w-100\">\r\n          <div class=\"container mt-3\">\r\n            <h5>Nuevo Alumno</h5>\r\n            <hr />\r\n            <v-form v-on:submit.prevent=\"saveAlumno\" ref=\"form\" v-model=\"validForm\" enctype=\"multipart/form-data\">\r\n              <div class=\"row\">\r\n                <div class=\"col-lg-12\">\r\n                  <div class=\"overline\">DATOS DEL ALUMNO</div>\r\n                </div>\r\n                <div class=\"col-lg-6 col-md-12 col-sm-12\">\r\n                  <v-text-field\r\n                    outlined\r\n                    @keyup=\"consultarDNI('hijo')\"\r\n                    v-model=\"user.dni\"\r\n                    id=\"dni-cdt\"\r\n                    label=\"DNI *\"\r\n                  ></v-text-field>\r\n                  <v-text-field outlined v-model=\"user.nombres\" label=\"Nombre *\"></v-text-field>\r\n                  <v-text-field\r\n                    outlined\r\n                    v-model=\"user.apellido_paterno\"\r\n                    label=\"Apellido Paterno *\"\r\n                  ></v-text-field>\r\n                  <v-text-field\r\n                    outlined\r\n                    v-model=\"user.apellido_materno\"\r\n                    label=\"Apellido Materno *\"\r\n                  ></v-text-field>\r\n                  <v-menu\r\n                    ref=\"menu\"\r\n                    v-model=\"menu\"\r\n                    :close-on-content-click=\"false\"\r\n                    transition=\"scale-transition *\"\r\n                    offset-y\r\n                    min-width=\"290px\"\r\n                  >\r\n                    <template v-slot:activator=\"{ on }\">\r\n                      <v-text-field\r\n                        outlined\r\n                        v-model=\"user.fecha_nacimiento\"\r\n                        label=\"Fecha de Nacimiento *\"\r\n                        readonly\r\n                        v-on=\"on\"\r\n                      ></v-text-field>\r\n                    </template>\r\n                    <v-date-picker\r\n                      ref=\"picker\"\r\n                      v-model=\"user.fecha_nacimiento\"\r\n                      :max=\"new Date().toISOString().substr(0, 10)\"\r\n                      min=\"1950-01-01\"\r\n                      @change=\"saveDate\"\r\n                    ></v-date-picker>\r\n                  </v-menu>\r\n                  <v-text-field outlined v-model=\"user.direccion\" label=\"Domicilio *\"></v-text-field>\r\n                  <v-text-field outlined v-model=\"user.telefono\" label=\"Telefono Casa *\"></v-text-field>\r\n                </div>\r\n                <div class=\"col-lg-6 col-md-12 col-sm-12\">\r\n                  <v-combobox\r\n                    outlined\r\n                    v-model=\"user.nivel\"\r\n                    @change=\"updateListGrados\"\r\n                    :items=\"basecolegio.niveles\"\r\n                    label=\"Nivel *\"\r\n                  ></v-combobox>\r\n\r\n                  <v-combobox outlined v-model=\"user.grado\" :items=\"grados\" label=\"Grado *\"></v-combobox>\r\n                  <!-- <input type=\"file\" name=\"image\"> -->\r\n\r\n                  <v-file-input\r\n                    v-model=\"user.imagen\"\r\n                    :rules=\"rules\"\r\n                    accept=\"image/png, image/jpeg, image/bmp, image/jpg\"\r\n                    placeholder=\"Click aqui para elegir una imagen..\"\r\n                    prepend-icon\r\n                    prepend-inner-icon=\"mdi-camera\"\r\n                    label=\"Imagen\"\r\n                    id=\"photoInput\"\r\n                    outlined\r\n                    :loading=\"loadingImage\"\r\n                    @change=\"updatePreview()\"\r\n                  ></v-file-input>\r\n                  <div\r\n                    class=\"card w-100 mx-auto d-flex flex-column flex-nowrap align-items-center justify-content-center\"\r\n                    style=\"border:none;\"\r\n                  >\r\n                    <img\r\n                      @click=\"openFI\"\r\n                      id=\"img-preview\"\r\n                      src=\"../../assets/img/no-image.png\"\r\n                      alt=\"img-preview\"\r\n                      class=\"img-fluid\"\r\n                      style=\"max-height: 340px; max-width: 340px; cursor: pointer; border-radius: 50%;\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <!-- parent -->\r\n              <div class=\"row\">\r\n                <div class=\"col-lg-12\">\r\n                  <div class=\"overline\">DATOS DEL APODERADO</div>\r\n                </div>\r\n                <div class=\"col-lg-6 col-md-12 col-sm-12\">\r\n                  <v-text-field\r\n                    @keyup=\"consultarDNI('padre')\"\r\n                    v-model=\"user.pariente.dni\"\r\n                    outlined\r\n                    label=\"DNI\"\r\n                    required\r\n                  ></v-text-field>\r\n                  <v-text-field v-model=\"user.pariente.nombres\" outlined label=\"Nombres\" required></v-text-field>\r\n                  <v-text-field\r\n                    v-model=\"user.pariente.apellido_paterno\"\r\n                    outlined\r\n                    label=\"Apellido Paterno\"\r\n                    required\r\n                  ></v-text-field>\r\n                  <v-text-field\r\n                    v-model=\"user.pariente.apellido_materno\"\r\n                    outlined\r\n                    label=\"Apellido Materno\"\r\n                    required\r\n                  ></v-text-field>\r\n                </div>\r\n                <div class=\"col-lg-6 col-md-12 col-sm-12\">\r\n                  <v-text-field\r\n                    v-model=\"user.pariente.direccion\"\r\n                    outlined\r\n                    label=\"Domicilio\"\r\n                    required\r\n                  ></v-text-field>\r\n                  <v-text-field v-model=\"user.pariente.correo\" :rules=\"emailRules\" outlined label=\"E-mail\" required></v-text-field>\r\n                  <v-text-field v-model=\"user.pariente.telefono\" outlined label=\"Telefono\" required></v-text-field>\r\n                  <v-text-field v-model=\"user.pariente.celular\" outlined label=\"Celular\" required></v-text-field>\r\n                </div>\r\n              </div>\r\n              <div class=\"row\">\r\n                <div class=\"col-lg-12\">\r\n                  <v-btn @click=\"saveAlumno\" color=\"primary\"><i class=\"ml-auto material-icons mr-2\">save</i> Guardar</v-btn>\r\n                </div>\r\n              </div>\r\n            </v-form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport defaultImg from '../../assets/img/no-image.png';\r\nimport axios from \"axios\";\r\nimport { mapState } from \"vuex\";\r\nimport Swal from 'sweetalert2'\r\n\r\nexport default {\r\n  data: () => ({\r\n    validForm: true,\r\n    tokenReniec:\r\n      \"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJlbWFpbCI6Imx1aXNtZWxnYXJlam9hbGFyY29uQGdtYWlsLmNvbSJ9.sPuL_WIleq7us1RzH1feIjWG_7NC20Jj_9LBgvpQivU\",\r\n    user: {\r\n      nombres: \"\",\r\n      apellido_paterno: \"\",\r\n      apellido_materno: \"\",\r\n      dni: \"\",\r\n      direccion: \"\",\r\n      fecha_nacimiento: null,\r\n      edad: \"\",\r\n      telefono: \"\",\r\n      nivel: \"\",\r\n      grado: \"\",\r\n      imagen: null,\r\n      password: \"\",\r\n      rol_usuario: \"alumno\",\r\n      pariente: {\r\n        dni: \"\",\r\n        nombres: \"\",\r\n        apellido_paterno: \"\",\r\n        apellido_materno: \"\",\r\n        direccion: \"\",\r\n        correo: \"\",\r\n        telefono: \"\",\r\n        celular: \"\"\r\n      }\r\n    },\r\n    default_user: {\r\n      nombres: \"\",\r\n      apellido_paterno: \"\",\r\n      apellido_materno: \"\",\r\n      dni: \"\",\r\n      direccion: \"\",\r\n      fecha_nacimiento: null,\r\n      edad: \"\",\r\n      telefono: \"\",\r\n      nivel: \"\",\r\n      grado: \"\",\r\n      imagen: null,\r\n      password: \"\",\r\n      rol_usuario: \"alumno\",\r\n      pariente: {\r\n        dni: \"\",\r\n        nombres: \"\",\r\n        apellido_paterno: \"\",\r\n        apellido_materno: \"\",\r\n        direccion: \"\",\r\n        correo: \"\",\r\n        telefono: \"\",\r\n        celular: \"\"\r\n      }\r\n    },\r\n    grados: \"\",\r\n    menu: false,\r\n    loadingImage: false,\r\n    rules: [\r\n      value =>\r\n        !value ||\r\n        value.size < 2000000 ||\r\n        \"Avatar size should be less than 2 MB!\"\r\n    ],\r\n  }),\r\n  computed: {\r\n    ...mapState([\"basecolegio\"])\r\n  },\r\n  watch: {\r\n    menu(val) {\r\n      val && setTimeout(() => (this.$refs.picker.activePicker = \"YEAR\"));\r\n    }\r\n  },\r\n  mounted() {\r\n    this.removeImagen()\r\n    this.$store.dispatch(\"getBaseColegio\");\r\n    this.$store.dispatch('updateGlobalIndex');\r\n  },\r\n  methods: {\r\n    saveDate(date) {\r\n      this.$refs.menu.save(date);\r\n    },\r\n    async consultarDNI(value) {\r\n      try {\r\n        if (value === \"hijo\") {\r\n          if (this.user.dni.length >= 8) {\r\n            const url = \"http://dniruc.apisperu.com/api/v1/dni/\";\r\n            const res = await axios.get(\r\n              url + this.user.dni + \"?token=\" + this.tokenReniec\r\n            );\r\n            if (res.data) {\r\n              this.user.nombres = res.data.nombres;\r\n              this.user.apellido_paterno = res.data.apellidoPaterno;\r\n              this.user.apellido_materno = res.data.apellidoMaterno;\r\n            }\r\n          }\r\n        } else {\r\n          if (this.user.pariente.dni.length >= 8) {\r\n            const url = \"http://dniruc.apisperu.com/api/v1/dni/\";\r\n            const res = await axios.get(\r\n              url + this.user.pariente.dni + \"?token=\" + this.tokenReniec\r\n            );\r\n            if (res.data) {\r\n              this.user.pariente.nombres = res.data.nombres;\r\n              this.user.pariente.apellido_paterno = res.data.apellidoPaterno;\r\n              this.user.pariente.apellido_materno = res.data.apellidoMaterno;\r\n            }\r\n          }\r\n        }\r\n      } catch (error) {}\r\n    },\r\n    openFI() {\r\n      const fileInput = document.getElementById(\"photoInput\");\r\n      photoInput.click();\r\n    },\r\n    updatePreview() {\r\n      try {\r\n        if (this.user.imagen !== undefined) {\r\n          this.loadingImage = true;\r\n          const reader = new FileReader();\r\n          reader.readAsDataURL(this.user.imagen);\r\n          reader.onload = () => {\r\n            const imgPrev = document.getElementById(\"img-preview\");\r\n            imgPrev.src = reader.result;\r\n            this.loadingImage = false;\r\n          };\r\n        } else {\r\n          this.removeImagen();\r\n        }\r\n      } catch (error) {\r\n        throw error;\r\n      }\r\n    },\r\n    removeImagen() {\r\n      document.getElementById(\"img-preview\").src = defaultImg;\r\n      this.user.image = undefined;\r\n    },\r\n    updateListGrados() {\r\n      try {\r\n        const arrGrados = [];\r\n        const grados = this.basecolegio.grados;\r\n        grados.forEach(grado => {\r\n          if (grado.nivel === this.user.nivel) {\r\n            arrGrados.push(grado.nombre);\r\n          }\r\n        });\r\n        this.grados = arrGrados;\r\n      } catch (error) {\r\n        return;\r\n      }\r\n    },\r\n    async saveAlumno() {\r\n      if(this.verificaCampos()){\r\n        this.user.password = this.user.dni;\r\n        const formUser = new FormData();\r\n        const userMinified = JSON.stringify(this.user);\r\n        formUser.append('image', this.user.imagen);\r\n        formUser.append('user', userMinified);\r\n        const result = await this.$store.dispatch(\"addAlumno\", formUser);\r\n        if (result){\r\n          this.removeImagen();\r\n          this.user = {};\r\n          this.user = this.default_user;\r\n          this.user.imagen = null;\r\n          this.$router.push('/app1/aintranet/alumnos');\r\n        }\r\n      }else{\r\n        Swal.fire(\r\n          'Datos insuficientes',\r\n          'Debes rellenar como m√≠nimo todos los campos obligatorios que contienen (*)',\r\n          'error'\r\n        )\r\n      }\r\n      \r\n    },\r\n    verificaCampos() {\r\n      if((this.user.nombres === \"\") || (this.user.apellido_paterno === \"\") || (this.user.apellido_materno === \"\") \r\n      || (this.user.dni === \"\") || (this.user.direccion === \"\") || (this.user.fecha_nacimiento === \"\") || (this.user.dni === \"\")) {\r\n        return false;\r\n      }\r\n      return true;\r\n    },\r\n  }\r\n};\r\n</script>\r\n\r\n<style>\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--17-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FormUser.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--17-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FormUser.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./FormUser.vue?vue&type=template&id=be76b968&\"\nimport script from \"./FormUser.vue?vue&type=script&lang=js&\"\nexport * from \"./FormUser.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCombobox } from 'vuetify/lib/components/VCombobox';\nimport { VDatePicker } from 'vuetify/lib/components/VDatePicker';\nimport { VFileInput } from 'vuetify/lib/components/VFileInput';\nimport { VForm } from 'vuetify/lib/components/VForm';\nimport { VMenu } from 'vuetify/lib/components/VMenu';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VBtn,VCombobox,VDatePicker,VFileInput,VForm,VMenu,VTextField})\n"],"sourceRoot":""}